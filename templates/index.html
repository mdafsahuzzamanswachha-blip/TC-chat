// sendMessage function
function sendMessage(){
    let msg = msgInput.value.trim();
    if(msg === "") return;
    let nickname = nicknameInput.value.trim() || "Anonymous";
    let file = imgInput.files[0];

    if(file){
        let reader = new FileReader();
        reader.onload = function(e){
            socket.send(JSON.stringify({msg: msg, nickname: nickname, image: e.target.result}));
            msgInput.value = "";
            imgInput.value = "";
        }
        reader.readAsDataURL(file);
    } else {
        socket.send(JSON.stringify({msg: msg, nickname: nickname, image: ""}));
        msgInput.value = "";
    }
}
